# .gitignore 忽略文件的用法

## 1.Git 忽略文件 `.gitignore` 详解

在工程中，并不是所有文件都需要保存到版本库中的，例如`dist`目录及目录下的文件就可以忽略。在 `Git` 工作区的根目录下创建一个特殊的 `.gitignore` 文件，然后把要忽略的文件名填进去，`Git` 就会自动忽略这些文件或目录。

## 2.Git 忽略规则优先级

在 `.gitingore` 文件中，每一行指定一个忽略规则，`Git` 检查忽略规则的时候有多个来源，它的优先级如下（由高到低）：

- 从命令行中读取可用的忽略规则
- 当前目录定义的规则
- 父级目录定义的规则，依次递推
- $GIT_DIR/info/exclude 文件中定义的规则
- core.excludesfile 中定义的全局规则
- Git 忽略规则匹配语法

## 3.忽略语法

- 空格不匹配任意文件，可作为分隔符，可用反斜杠转义
- 开头的文件标识注释，可以使用反斜杠进行转义
- ! 开头的模式标识否定，该文件将会再次被包含，如果排除了该文件的父级目录，则使用 ! 也不会再次被包含。可以使用反斜杠进行转义
- / 结束的模式只匹配文件夹以及在该文件夹路径下的内容，但是不匹配该文件
- / 开始的模式匹配项目跟目录
- 如果一个模式不包含斜杠，则它匹配相对于当前 .gitignore 文件路径的内容，如果该模式不在 .gitignore 文件中，则相对于项目根目录
- \*\* 匹配多级目录，可在开始，中间，结束
- ? 通用匹配单个字符
  - - 通用匹配零个或多个字符
- [] 通用匹配单个字符列表

## 4.已被推送过的文件

已经推送（push）过的文件，在.gitignore 文件内添加是无效的。可以使用以下命令进行强制忽略。

```bash
git update-index --assume-unchanged 文件路径
```

取消强制忽略：

```bash
git update-index --no-assume-unchanged 文件路径
```
